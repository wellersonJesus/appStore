generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
model Store {
  id            String @id@default(uuid())
  name          String @unique @db.VarChar(255)
  document      String @unique @db.VarChar(255)
  place         String @unique @db.VarChar(255)
  users         User[]

  @@map("stores")
}
 model Role{
  id            String @id@default(uuid())  
  access        DateTime@default(now())@db.Timestamptz()
  update_at     DateTime@default(now())@db.Timestamptz()
  nameId        String@db.VarChar(255)
  roleId        String @unique @db.VarChar(255)
  userId        String @unique @db.VarChar(255)

  @@map("roles")
 }
model User {
  id            String @id@default(uuid())  
  name          String @unique @db.VarChar(255)
  place         String @unique @db.VarChar(255)
  document      String @unique @db.VarChar(255)
  email         String @unique @db.VarChar(255)
  userId        String @unique @db.VarChar(255)  
  user          Store @relation(fields: [userId], references: [document])
  roleId        String @unique @db.VarChar(255)
  authorId      String @unique @db.VarChar(255)
  author        Request @relation(fields: [authorId],references: [id])
  purchaseId     String @unique @db.VarChar(255)
  purchase       Product @relation(fields: [purchaseId],references: [id])

  @@map("users")
}

model Request{
  id            String @id@default(uuid())  
  user          String @unique @db.VarChar(255)
  product       String @unique @db.VarChar(255)
  userId        String @unique @db.VarChar(255)
  name          User[] 


 @@map("requests")  
}

model Product{
  id            String @id@default(uuid())  
  type          String@db.VarChar(255)
  description   String@db.VarChar(255)
  brand         String@db.VarChar(255)
  status        String@db.VarChar(255)
  value         String@db.VarChar(255)
  registration  String@db.VarChar(255)
  most          String @unique @db.VarChar(255)
  user          User[]

 @@map("products")  
 }



